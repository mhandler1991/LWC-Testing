<template>

    <lightning-card title="Closed Won Opportunities" icon-name="standard:opportunity">

        <lightning-accordion allow-multiple-sections-open onsectiontoggle={handleSectionToggle}
            active-section-name={activeSections}>

            <!-- If Opportunity Data is Returned -->
            <template if:true={opportunities.data}>

                <ul class="slds-has-dividers_around-space">

                    <template for:each={opportunities.data} for:item="opportunity">

                        <lightning-accordion-section title={opportunity.Name} name={opportunity.Id} key={opportunity.Id} label={opportunity.Name}>

                            <div slot="actions">
                                <lightning-button-icon icon-name="utility:info" variant="bare"
                                    alternative-text="Open record" onclick={navigateToRecordViewPage} value={opportunity.Id}
                                    data-id={opportunity.Id}  target="_blank" >
                                </lightning-button-icon>
                            </div>

                            <div class="slds-title__detail">
                                <dl class="slds-dl_horizontal">
                                    <dt class="slds-dl_horizontal__label">Amount:</dt>
                                        <dd class="slds-dl_horizontal__detail">{opportunity.Amount}</dd>
                                    <dt class="slds-dl_horizontal__label">Date:</dt>
                                        <dd class="slds-dl_horizontal__detail">{opportunity.Date}</dd>
                                </dl>
                            </div>

                        </lightning-accordion-section>

                    </template>

                </ul>

            </template>
    
            <!-- If NO Opportunity Data is Returned -->
            <template if:false={opportunities.data}>
            </template>

        </lightning-accordion>

    </lightning-card>

</template>



<!-- <template>

    <lightning-card title={prevOppName} icon-name="standard:opportunity">

        <lightning-accordion allow-multiple-sections-open onsectiontoggle={handleSectionToggle}
        active-section-name={activeSections}>

            <lightning-accordion-section title="Payment History" name="A" label="Payment History">

                <div class="slds-tile__detail">
                    <dl class="slds-dl_inline">
                        <dt class="slds-dl_inline__label">Amount Doc'd:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppAD}</dd>
                        <dt class="slds-dl_inline__label">Actual Daily Payment:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppADP}</dd>
                        <dt class="slds-dl_inline__label">Docs Term:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppDT}</dd>
                        <dt class="slds-dl_inline__label">Balance Remaining:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppBR}</dd>

                        <dt class="slds-dl_inline__label">Payments Bounced:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppPB}</dd>
                        <dt class="slds-dl_inline__label">Payments Behind:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppPBehind}</dd>
                        <dt class="slds-dl_inline__label">Balance Paid:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppBR}</dd>                        
                    </dl>
                </div>

            </lightning-accordion-section>

            <lightning-accordion-section title="Deal Information" name="B" label="Deal Information">

                <div class="slds-tile__detail">
                    <dl class="slds-dl_inline">
                        <dt class="slds-dl_inline__label">Actual Points Earned:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppAPE}</dd>
                        <dt class="slds-dl_inline__label">Payments Collected:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppPC}</dd>
                        <dt class="slds-dl_inline__label">Origination Fee:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppOF}</dd>
                        <dt class="slds-dl_inline__label">NF Maturity Date:</dt>
                            <dd class="slds-dl_inline__detail">{prevOppMD}</dd>                    
                    </dl>
                </div>

            </lightning-accordion-section>

        </lightning-accordion>

    </lightning-card>

</template> -->